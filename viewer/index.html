<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PDF Viewer</title>

<style>
html, body{
  margin:0;
  padding:0;
  background:#e5e5e5;
}

/* Progress bar container */
#progressBox{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:36px;
  background:#ffffff;
  box-shadow:0 2px 6px rgba(0,0,0,.2);
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  font-weight:bold;
}

/* PDF area spacing */
body{
  padding-top:40px;
}

.watermark{
  position:fixed;
  top:40%;
  left:15%;
  font-size:26px;
  color:rgba(0,0,0,0.15);
  transform:rotate(-30deg);
  pointer-events:none;
}
</style>

<script src="/krisishikkha/vendor/pdfjs/pdf.min.js"></script>
</head>

<body>

<div id="progressBox">
  ðŸ“– Read: <span id="progressPercent">0%</span>
</div>

<div class="watermark">fb:@krisishikkha.com</div>

<script src="viewer.js"></script>
  <!-- Install Button -->
<div id="installBtn" class="install-btn" style="display:none;">
  ðŸ“² Install App
</div>

<style>
.install-btn{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#2e7d32;
  color:#fff;
  padding:12px 18px;
  border-radius:30px;
  font-size:14px;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
  cursor:pointer;
  z-index:99999;
}
</style>

<script>
let deferredPrompt;
const installBtn = document.getElementById('installBtn');

/* Capture install event */
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
});

/* Scroll detect (whole page scroll) */
window.addEventListener('scroll', () => {
  if (window.scrollY > 600) {
    installBtn.style.display = "block";
  }
});

/* Install button click */
installBtn.addEventListener('click', async () => {

  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;

    if (outcome === 'accepted') {
      installBtn.style.display = "none";
    }

    deferredPrompt = null;
  }

});
</script>

</body>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LGK67QBZD3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LGK67QBZD3');
</script>
</html>
